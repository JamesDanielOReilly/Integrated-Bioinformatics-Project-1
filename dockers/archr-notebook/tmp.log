Sending build context to Docker daemon  4.608kB
Step 1/28 : FROM rocker/r-base:4.0.3 AS base-layer
 ---> cd0b76310459
Step 2/28 : ENV     NB_USER docker
 ---> Using cache
 ---> e33870d77e34
Step 3/28 : ENV     NB_UID 1000
 ---> Using cache
 ---> a23c178e277b
Step 4/28 : ENV     NB_GID 1000
 ---> Using cache
 ---> bf9853f16ff1
Step 5/28 : ENV     VENV_DIR /srv/venv
 ---> Using cache
 ---> c8f613e63aa3
Step 6/28 : ENV     HOME /home/${NB_USER}
 ---> Using cache
 ---> 8871c8928b77
Step 7/28 : ENV LD_LIBRARY_PATH /usr/local/lib/R/lib
 ---> Using cache
 ---> eb693cad32a6
Step 8/28 : ENV PATH ${VENV_DIR}/bin:$PATH
 ---> Using cache
 ---> 5e834ceca69e
Step 9/28 : WORKDIR ${HOME}
 ---> Using cache
 ---> 836172d60a4a
Step 10/28 : RUN     apt-get update     &&  apt-get install -y         libcairo2-dev         libxt-dev         python3-venv         python3-dev         python3-pip         libcurl4-openssl-dev         curl         libssl-dev         libgit2-dev         openssl         libxml2-dev         git         libharfbuzz-dev         libfribidi-dev         libfreetype6-dev         libpng-dev         libtiff5-dev         libjpeg-dev     &&  apt-get purge     &&  apt-get clean     &&  rm -rf /var/lib/apt/lists/*
 ---> Using cache
 ---> 7c1d7ff3fbd4
Step 11/28 : RUN     mkdir -p ${VENV_DIR}     &&  chown -R ${NB_USER} ${VENV_DIR}
 ---> Using cache
 ---> 09c9d9b28987
Step 12/28 : USER    ${NB_USER}
 ---> Using cache
 ---> e3013fb9600d
Step 13/28 : RUN     python3 -m venv ${VENV_DIR}     &&  pip3 install pip==20.2.3     &&  pip3 install --no-cache-dir         jupyter-rsession-proxy
 ---> Using cache
 ---> 681be17a7b41
Step 14/28 : RUN     R -e "install.packages('Cairo')"
 ---> Using cache
 ---> 33d74d0f3d4a
Step 15/28 : RUN     R -e "install.packages(c('devtools','curl'))"
 ---> Using cache
 ---> 36ecf412ff3b
Step 16/28 : RUN     echo "export PATH=${PATH}" >> ${HOME}/.profile
 ---> Using cache
 ---> 1d63ce6ca0fa
Step 17/28 : RUN     R -e "devtools::install_github('RBigData/pbdZMQ')"     &&  R -e "devtools::install_github('IRkernel/IRkernel')"     &&  R -e "IRkernel::installspec(prefix='${VENV_DIR}')"
 ---> Using cache
 ---> e8d2bddd997a
Step 18/28 : FROM base-layer AS bioc-layer
 ---> e8d2bddd997a
Step 19/28 : RUN     R -e "install.packages('BiocManager')"
 ---> Using cache
 ---> 764e748ab42e
Step 20/28 : FROM bioc-layer AS archer-layer
 ---> 764e748ab42e
Step 21/28 : USER root
 ---> Using cache
 ---> 8c4b15d90279
Step 22/28 : RUN     apt-get update     &&  apt-get install -y         libgsl-dev     &&  apt-get purge     &&  apt-get clean     &&  rm -rf /var/lib/apt/lists/*
 ---> Using cache
 ---> 61c9fa19b683
Step 23/28 : USER $NB_USER
 ---> Using cache
 ---> 15c4093e97d5
Step 24/28 : RUN     R -e "devtools::install_github('GreenleafLab/ArchR', ref='master', repos = BiocManager::repositories())"
 ---> Using cache
 ---> 9d5320b9593c
Step 25/28 : RUN     R -e "ArchR::installExtraPackages()"
 ---> Using cache
 ---> da566dc69d8c
Step 26/28 : FROM archer-layer AS reference-layer
 ---> da566dc69d8c
Step 27/28 : RUN     wget --quiet http://bioconductor.org/packages/release/data/annotation/src/contrib/BSgenome.Hsapiens.UCSC.hg38_1.4.3.tar.gz     &&  R -e "install.packages('BSgenome.Hsapiens.UCSC.hg38_1.4.3.tar.gz', repos = NULL, type='source')"     &&  rm BSgenome.Hsapiens.UCSC.hg38_1.4.3.tar.gz
 ---> Using cache
 ---> c51089d2d7c6
Step 28/28 : CMD jupyter notebook --ip 0.0.0.0
 ---> Using cache
 ---> eafb169a8a1e
Successfully built eafb169a8a1e
Successfully tagged jonasjonker/archr-notebook:0.0.1
